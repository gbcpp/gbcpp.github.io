<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPG：为你的 Git 提交记录加一把锁 - 仲儿的自留地</title>
    <meta name="author"  content="zhonger">
    <meta name="description" content="GPG：为你的 Git 提交记录加一把锁">
    <meta name="keywords"  content="GPG, 签名, Git, Signin, 代码安全, Code security">
    <!-- Open Graph -->
    <meta property="og:title" content="GPG：为你的 Git 提交记录加一把锁 - 仲儿的自留地">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://lisz.me/tech/webmaster/gpg.html">
    <meta property="og:description" content="个人的一个技术博客站点，主要用于记录个人在学习过程中遇到的技术问题及解决方法、技术实验，以及一些比较有趣的事情。">
    <meta property="og:site_name" content="仲儿的自留地">
    <link rel="Shortcut Icon" href="/assets/icons/favicon.ico">
    <link rel="bookmark" href="/assets/icons/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.min.css">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_roc50gemkxpw4s4i.css">
    <link rel="stylesheet" href="/assets/css/plugins.min.css">
    <link rel="preload" href="/assets/fonts/Merriweather-Regular.ttf" as="font" crossorigin=”anonymous”>
    <link rel="stylesheet" href="/assets/css/app.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-164207041-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-164207041-1');
    </script>
</head>
<body>
    <!--[if lt IE 10]>
<div class="alert-danger" role="alert">你的浏览器实在太太太旧了，放学别走，升级完浏览器再说！<a target="_blank" class="alert-link" href="http://browsehappy.com">立即升级</a></div>
<![endif]-->
<input id="nm-switch" type="hidden" value="false">

<header class="g-header">
    <div class="g-logo">
      <a href="/" aria-label="Homepage"></a>
    </div>
    <!-- <i id="menu-toggle" class="iconfont icon-menu"></i> -->
    <svg id="menu-toggle" class="icon-menu" aria-hidden="true">
        <use xlink:href="#icon-menu"></use>
    </svg>
    <nav class="g-nav">
        <ul>
            
            <li><a href="/">home</a></li>
            
            <li><a href="/blog/index.html">blog</a></li>
            
            <li><a href="/archives.html">archives</a></li>
            
            <li><a href="{"CONQUEST"=>"/tags.html#CONQUEST", "LDAP"=>"/tags.html#LDAP", "博客"=>"/tags.html#blog"}">collections</a></li>
            
            <li><a href="/tags.html">tags</a></li>
            
            <li><a href="{"logs"=>"/logs.html", "tos"=>"/tos.html", "RSS"=>"/feed.xml", "CV"=>"/cv.html", "links"=>"/links.html"}">about</a></li>
            
        </ul>
    </nav>
</header>


<header class="g-banner post-header post-pattern-food bgcolor-default " data-theme="default">
    <div class="post-wrapper">
        <div class="post-tags">
            
            
            <a href="/tags.html#GPG" class="post-tag">GPG</a>
            
            <a href="/tags.html#%E7%AD%BE%E5%90%8D" class="post-tag">签名</a>
            
            <a href="/tags.html#Git" class="post-tag">Git</a>
            
            <a href="/tags.html#Signin" class="post-tag">Signin</a>
            
            <a href="/tags.html#%E4%BB%A3%E7%A0%81%E5%AE%89%E5%85%A8" class="post-tag">代码安全</a>
            
            <a href="/tags.html#Code%20security" class="post-tag">Code security</a>
            
            
        </div>
        <h1>GPG：为你的 Git 提交记录加一把锁</h1>
        <div class="post-meta">
            <span class="post-meta-item"><i class="iconfont icon-author"></i><a href="https://lisz.me" target="_blank" rel="author">zhonger</a></span>
            <time class="post-meta-item" datetime="22-05-31"><i class="iconfont icon-date"></i>Tue, 31 May 2022 16:44:00 +0900</time>
        </div>
        <div class="post-meta">
            <span>本文总共 5104 字 <b>·</b> 阅读全文大约需要 15 分钟</span>
        </div>
    </div>
    
    <div class="filter"></div>
    <div class="post-cover" style="background: url('https://i.lisz.top/cover/skxyHS.webp') center no-repeat; background-size: cover;">
    
</header>

<div class="post-content">
    
    <h2 class="post-subtitle">使用 GPG 为代码签名，让代码更加可信</h2>
    
    <article class="markdown-body" id="lightgallery">
        <h2 id="前言">前言</h2>

<p>  GPG，全称 GNU Privacy Guard，也可以写成 GnuPG。它是一款免费开源的加密软件，也是不开源不免费的 PGP（Pretty Good Privacy）的替代品，有关详情可以查看参考资料。由于 GPG 可以用于签名或者加密，所以在文件加密、邮件加密、代码签名等方面应用较多。</p>

<h3 id="邮件加密">邮件加密</h3>

<p>  用过 Gmail 的同学可能看到过像下面这样不同的安全性信息。第一幅图是在没有以 SSL 方式与邮件服务器连接发送的时候，Gmail 会将邮件的安全性等级认定为最低的<strong>未加密</strong>级别。第二幅图是正常以 SSL 方式与邮件服务器连接发送时，Gmail 验证了 SSL 证书与邮送域一致并认定为<strong>标准加密</strong>的安全性等级。第三幅图是当我们使用 GPG 给邮件进行加密时，Gmail 会同时收到一个签名公钥的附件。</p>

<p><img src="https://i.lisz.top/blog/oKV4nd.webp" alt="未加密邮件 Uncertified mail" />
<img src="https://i.lisz.top/blog/T4UqNm.webp" alt="标准加密邮件 Normal certified mail" />
<img src="https://i.lisz.top/blog/Ocaj6f.webp" alt="GPG 加密邮件 GPG certified mail" /></p>

<p>  这里看起来可能有点奇怪，为什么 GPG 加密的邮件和一般的标准加密邮件除了附件没有别的差别？实际上，我们如果想要给对方发一份 GPG 加密的邮件是需要用对方的 GPG 公钥来加密邮件内容的。当对方收到发送的 GPG 加密邮件时会用自己的私钥进行解密，从而获知加密邮件的内容。也就是说，上面的第三幅图并非是真正的 GPG 加密的邮件。第三幅图是作者用私钥签名的邮件，收件人可以用 keyserver 上查询到的公钥来验证邮件内容是否真的来自于发件人。</p>

<h3 id="代码签名">代码签名</h3>

<p>  相比邮件加密而言，GPG 用于代码签名则正好相反。在代码签名中，我们也像上面第三幅图那样使用私钥为每一次 commit 签名。而代码的使用者可以根据作者公布的公钥对代码内容进行验证，从而确保代码是来自作者本人。苹果开发者证书、Google Play 开发者证书实际上也是起到了这样一个核验代码作者身份的作用。</p>

<h3 id="git-的漏洞">Git 的“漏洞”</h3>

<p>  在 Git 提交 commit 之前，Git 会要求我们设定好 username 和 email（类似下面）。但是如果我们不设置成自己的 github username 和 email 会怎么样呢？其实不会怎么样，只是 Github 不会把这些 commit 算在你头上，而是算在了你伪造的用户头上。如果我们想要伪装成某位业界大咖的 github 账户为项目提交代码，似乎在理论上也没有什么不可以的。在参考资料四中，作者做了一些示例的尝试，发现“只要知道邮箱，就可以用他人的名义提交 commit”。但说到底，这种方式是不道德的，且没有任何实质意义的。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> user.name <span class="s2">"zhonger"</span>
git config <span class="nt">--global</span> user.email <span class="s2">"zhonger@live.cn"</span>
</code></pre></div></div>

<p>  因此，为了使代码更加可信、确保是由作者本人提交的，Github 等代码托管平台纷纷支持了 GPG 签名。因为 GPG 公钥和私钥是 RSA 非对称加密生成的，所以理论上是不存在被伪造或反编码风险的。和从 GPG 密钥服务器中的公钥查询验证不同，Github 等代码托管平台只信任由作者本人在设置中配置的 GPG 公钥，与只信任配置的 SSH 公钥访问代码类似。</p>

<h2 id="实践">实践</h2>

<h3 id="安装-gpg">安装 GPG</h3>

<p>  在不同的平台上都已经提供了 GPG，大部分只需要一条命令即可完成安装。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># MacOS</span>
brew <span class="nb">install </span>gpg

<span class="c"># Debian, Ubuntu</span>
<span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> gnupg

<span class="c"># CentOS</span>
<span class="nb">sudo </span>yum <span class="nb">install</span> <span class="nt">-y</span> gnupg

<span class="c"># Windows</span>
<span class="c"># 推荐使用 WinGPG，下载地址为 https://scand.com/products/wingpg/</span>

<span class="c"># Archlinux</span>
<span class="nb">sudo </span>pacman <span class="nt">-S</span> gnupg
</code></pre></div></div>

<h3 id="验证安装">验证安装</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>╰─<span class="nv">$ </span>gpg <span class="nt">--version</span>                                                        
gpg <span class="o">(</span>GnuPG<span class="o">)</span> 2.3.6
libgcrypt 1.10.1
Copyright <span class="o">(</span>C<span class="o">)</span> 2021 Free Software Foundation, Inc.
License GNU GPL-3.0-or-later &lt;https://gnu.org/licenses/gpl.html&gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Home: /Users/zhonger/.gnupg
支持的算法：
公钥： RSA, ELG, DSA, ECDH, ECDSA, EDDSA
密文： IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH,
    CAMELLIA128, CAMELLIA192, CAMELLIA256
AEAD: EAX, OCB
散列： SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224
压缩：  不压缩, ZIP, ZLIB, BZIP2
</code></pre></div></div>

<h3 id="生成密钥">生成密钥</h3>

<p>  验证安装成功后，即可使用以下命令生成字母的密钥。如下所示，我们可以很简单地得到一对 GPG 密钥。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>╰─<span class="nv">$ </span>gpg <span class="nt">--full-generate-key</span>                                                       
gpg <span class="o">(</span>GnuPG<span class="o">)</span> 2.3.6<span class="p">;</span> Copyright <span class="o">(</span>C<span class="o">)</span> 2021 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

请选择您要使用的密钥类型：
   <span class="o">(</span>1<span class="o">)</span> RSA 和 RSA
   <span class="o">(</span>2<span class="o">)</span> DSA 和 Elgamal
   <span class="o">(</span>3<span class="o">)</span> DSA（仅用于签名）
   <span class="o">(</span>4<span class="o">)</span> RSA（仅用于签名）
   <span class="o">(</span>9<span class="o">)</span> ECC（签名和加密） <span class="k">*</span>默认<span class="k">*</span>
  <span class="o">(</span>10<span class="o">)</span> ECC（仅用于签名）
 （14）卡中现有密钥
您的选择是？
请选择您想要使用的椭圆曲线：
   <span class="o">(</span>1<span class="o">)</span> Curve 25519 <span class="k">*</span>默认<span class="k">*</span>
   <span class="o">(</span>4<span class="o">)</span> NIST P-384
   <span class="o">(</span>6<span class="o">)</span> Brainpool P-256
您的选择是？
请设定这个密钥的有效期限。
         0 <span class="o">=</span> 密钥永不过期
      &lt;n&gt;  <span class="o">=</span> 密钥在 n 天后过期
      &lt;n&gt;w <span class="o">=</span> 密钥在 n 周后过期
      &lt;n&gt;m <span class="o">=</span> 密钥在 n 月后过期
      &lt;n&gt;y <span class="o">=</span> 密钥在 n 年后过期
密钥的有效期限是？<span class="o">(</span>0<span class="o">)</span>
密钥永远不会过期
这些内容正确吗？ <span class="o">(</span>y/N<span class="o">)</span> y

GnuPG 需要构建用户标识以辨认您的密钥。

真实姓名： zhonger
电子邮件地址： zhonger@lisz.me
注释： zhonger
您选定了此用户标识：
    “zhonger <span class="o">(</span>zhonger<span class="o">)</span> &lt;zhonger@lisz.me&gt;”

更改姓名（N）、注释（C）、电子邮件地址（E）或确定（O）/退出（Q）？ O
我们需要生成大量的随机字节。在质数生成期间做些其他操作（敲打键盘
、移动鼠标、读写硬盘之类的）将会是一个不错的主意；这会让随机数
发生器有更好的机会获得足够的熵。
gpg: 警告：服务器 ‘gpg-agent’ 比我们的版本更老 （2.2.34 &lt; 2.3.6）
gpg: 注意： 过时的服务器可能缺少重要的安全修复。
gpg: 注意： 使用 “gpgconf <span class="nt">--kill</span> all” 来重启他们。
我们需要生成大量的随机字节。在质数生成期间做些其他操作（敲打键盘
、移动鼠标、读写硬盘之类的）将会是一个不错的主意；这会让随机数
发生器有更好的机会获得足够的熵。
gpg: 吊销证书已被存储为‘/Users/zhonger/.gnupg/openpgp-revocs.d/612E7E8200528FEC0B8AC3C715F73C3703B9796C.rev’
公钥和私钥已经生成并被签名。

pub   ed25519 2022-06-01 <span class="o">[</span>SC]
      612E7E8200528FEC0B8AC3C715F73C3703B9796C
uid                      zhonger <span class="o">(</span>zhonger<span class="o">)</span> &lt;zhonger@lisz.me&gt;
sub   cv25519 2022-06-01 <span class="o">[</span>E]
</code></pre></div></div>

<p>  这里生成密钥过程中要求选择的密钥类型、椭圆曲线、密钥有效期都采用了默认的选择（按 Enter 键即可），可根据个人需要自行选择。接下来的用户标识根据个人的 真实姓名（英文）、Github 邮件和用户名（注释），最后输入大写字母 O 结束设置。这一步骤结束后系统会提醒输入对私钥的密码，通常需要两次验证输入。至此成功生成了一对 GPG 密钥。</p>

<h3 id="github-配置密钥">Github 配置密钥</h3>

<p>  生成密钥之后我们就要将公钥添加到 Github上，并尝试使用私钥给代码签名并提交，验证是否被 Github 成功验证。</p>

<h4 id="打印公钥">打印公钥</h4>

<p>  如下命令所示，可以查询刚才生成密钥的公钥内容，并复制。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 列举本地所有密钥</span>
gpg <span class="nt">--list-keys</span>

<span class="c"># 查询指定 id 密钥的公钥内容</span>
gpg <span class="nt">--armor</span> <span class="nt">--export</span> &lt;GPG_KEY_ID》
</code></pre></div></div>

<p><img src="https://i.lisz.top/blog/RNvfUg.webp" alt="列举密钥 List gpg keys" />
<img src="https://i.lisz.top/blog/jFalNR.webp" alt="查询公钥内容 Check public key content" /></p>

<h4 id="添加-gpg-公钥">添加 GPG 公钥</h4>

<p>  访问 <a href="https://github.com/settings/gpg/new">https://github.com/settings/gpg/new</a> 添加刚复制的 GPG 公钥内容，此处的 Title 可以任意命名，只要与已有的 Title 不重复即可。</p>

<p><img src="https://i.lisz.top/blog/KSdbdY.webp" alt="添加公钥 Add public key" /></p>

<h4 id="查询已添加公钥">查询已添加公钥</h4>

<p>  访问 <a href="https://github.com/settings/keys">https://github.com/settings/keys</a> 即可看到刚才新添加的 GPG 公钥。这里可以看到，邮箱地址后面多了个 Unverified。这是因为这个邮箱是一个没有绑定 Github 账户的假邮箱，如果邮箱是验证过的，这里就不会有这个标识了。</p>

<p><img src="https://i.lisz.top/blog/wEchBn.webp" alt="查询公钥 List all keys" /></p>

<h3 id="为代码签名并提交">为代码签名并提交</h3>

<p>  为了不用每次提交 commit 的时候都要手动声明使用某个 GPG 私钥进行签名，这里在 git 的全局配置中添加两个配置项：user.signingkey（签名密钥 ID）和 commit.gpgsign（全部提交使用 GPG 签名）。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> user.signingkey 612E7E8200528FEC0B8AC3C715F73C3703B9796C
git config <span class="nt">--global</span> commit.gpgsign <span class="nb">true</span>
</code></pre></div></div>

<p>  当我们设置好全局 Git 配置后，再次像平常那样执行 commit 提交时，就会弹出输入私钥密码的窗口，正常输入即可。</p>

<h3 id="验证提交签名">验证提交签名</h3>

<p>  虽然以上步骤已经完成了 GPG 为 commit 加一把锁，但是可能还不敢确认这把锁是否存在。这里有两种方法可以验证：一种是通过查询本地 git 来查看，另一种是通过 Github 在线查看。下面是使用个人的私钥（非本文示例密钥）分别采用两种方法在日常 git 项目中验证的效果图。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 本地验证提交签名</span>
git log <span class="nt">--show-signature</span>
</code></pre></div></div>

<p><img src="https://i.lisz.top/blog/VelGL4.webp" alt="本地验证提交签名 Verify the signature on local git" />
<img src="https://i.lisz.top/blog/W6q65U.webp" alt="Github 验证提交签名 Verify the signature on github" /></p>

<h2 id="其他相关问题">其他相关问题</h2>

<blockquote>
  <p>error “问题一”
如果想要导出私钥和公钥备份或迁移怎么办？</p>
</blockquote>

<blockquote>
  <p>info “解答”
  一般来说，GPG 密钥的保管非常重要。如果 GPG 密钥的私钥丢失或者被他人窃取，那么将会很危险，因为别人可以使用该私钥在任何文件或邮件上签上你名字。所以重装电脑之前一定要注意好备份，即使平时也可能需要将 GPG 密钥存在一个非本地且安全可靠的位置。以下命令可以实现公钥和私钥的导出。</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gpg <span class="nt">--armor</span> <span class="nt">--output</span> gpg.pub <span class="nt">--export</span> &lt;GPG_KEY_ID&gt;
gpg <span class="nt">--armor</span> <span class="nt">--output</span> gpg.key <span class="nt">--export-secret-keys</span> &lt;GPG_SECRET_KEY&gt;
</code></pre></div></div>

<blockquote>
  <p>error “问题二”
如何吊销已生成或丢失的 GPG 密钥？</p>
</blockquote>

<blockquote>
  <p>info “解答”
  当 GPG 私钥发生丢失（公钥丢失不影响安全，找回即可）时，我们需要在 Github 删除对应的公钥，这样可以保证 Github 不会再承认丢失私钥签名的代码。当然，为了除 Github 外其他正常的邮件、文件不再信任该丢失的私钥签名，我们需要向 GPG 声明该 GPG 公钥吊销，从而达到吊销私钥的目的（并非是删除密钥本身，而是标记作废）。具体操作如以下命令所示。</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 撤销密钥</span>
gpg <span class="nt">--output</span> revoke.asc <span class="nt">--gen-revoke</span> &lt;GPG_KEY_ID&gt;
<span class="c"># 将撤销密钥导入本地钥匙环</span>
gpg <span class="nt">--import</span> revoke.asc
<span class="c"># 搜索 GPG 密钥服务器中的密钥</span>
gpg <span class="nt">--keyserver</span> hkps://keys.openpgp.org <span class="nt">--search-keys</span> &lt;GPG_KEY_ID&gt; 
<span class="c"># 撤销 GPG 密钥服务器上的密钥</span>
gpg <span class="nt">--keyserver</span> hkps://keys.openpgp.org <span class="nt">--send-keys</span> &lt;GPG_KEY_ID&gt; 
</code></pre></div></div>

<p>（2022年9月30日补充）</p>

<blockquote>
  <p>error “问题三”
如果不弹出输入密码框怎么办？</p>
</blockquote>

<blockquote>
  <p>info “解答”
  这主要是因为终端窗口加载的问题，如下所示添加对 GPG 使用的终端的声明，认定输入密码框的终端与现有终端一致，那么就会正常弹出输入密码框了。</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">GPG_TTY</span><span class="o">=</span><span class="si">$(</span><span class="nb">tty</span><span class="si">)</span>
</code></pre></div></div>

<h2 id="参考资料">参考资料</h2>

<ul>
  <li><a href="https://www.ruanyifeng.com/blog/2013/07/gpg.html">GPG 入门教程</a></li>
  <li><a href="https://hedzr.com/security/gpg/gpg-short-guide/">GPG Short Guide</a></li>
  <li><a href="https://bynss.com/apple/587437.html">怎样在 macOS 上加密您的电子邮件</a></li>
  <li><a href="https://medium.com/starbugs/how-to-fake-the-author-of-git-commit-f44453b70afc">用 Git 這麼久了，你知道 commit 是可以偽造的嗎</a></li>
  <li><a href="https://tourcoder.com/gpg-on-macos/">macOS 下使用 GPG</a></li>
</ul>

    </article>
    
    <div class="social-share-wrapper">
        <div class="social-share"></div>
    </div>
    
</div>

<section class="author-detail">
    <section class="post-footer-item author-card">
        <div class="avatar">
            <img src="/assets/img/profile.webp" alt="">
        </div>
        <div class="author-name" rel="author">zhonger</div>
        <div class="bio">
            <p>Developer & Maintainer</p>
        </div>
        
        <ul class="sns-links">
            
            <li>
                <a href="https://scholar.google.com/citations?user=AUupIooAAAAJ" target="_blank">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-google-scholar"></use>
                    </svg>
                </a>
            </li>
            
            <li>
                <a href="https://www.researchgate.net/profile/Shengzhou-Li" target="_blank">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-researchgate"></use>
                    </svg>
                </a>
            </li>
            
            <li>
                <a href="https://orcid.org/0000-0001-6973-3825" target="_blank">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-ORCID"></use>
                    </svg>
                </a>
            </li>
            
            <li>
                <a href="https://github.com/zhonger" target="_blank">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                </a>
            </li>
            
            <li>
                <a href="https://www.linkedin.com/in/shengzhouli/" target="_blank">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-linkedin"></use>
                    </svg>
                </a>
            </li>
            
            <li>
                <a href="https://segmentfault.com/u/wuwozhonger" target="_blank">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-segmentfault"></use>
                    </svg>
                </a>
            </li>
            
        </ul>
        
    </section>
    <section class="post-footer-item read-next">
        
        <div class="read-next-item">
            <a href="/tech/webmaster/pwa.html" class="read-next-link"></a>
            <section>
                <span>PWA：可能是成本最低的站点加速方式</span>
                <p>前言</p>
            </section>
            
            <div class="filter"></div>
            <img src="https://i.lisz.top/cover/EBXSnv.webp" alt="">
            
        </div>
        
        
        <div class="read-next-item">
            <a href="/tech/webmaster/ldap-integration.html" class="read-next-link"></a>
            <section>
                <span>基于 LDAP 的统一认证服务 Keycloak</span>
                <p>前言</p>
            </section>
            
            <div class="filter"></div>
            <img src="https://i.lisz.top/cover/ugNxzD.webp" alt="">
            
        </div>
        
    </section>
    
</section>

<footer class="g-footer">
    <section>仲儿的自留地 © 
        
          2015
          -
        
        2023
        
        <a href="https://beian.miit.gov.cn/" target="_blank"></a>
        
    </section>
    <section>Powered by <a href="//jekyllrb.com">Jekyll</a> & <a href="https://github.com/zhonger/jekyll-theme-H2O-ac">Theme H2O-ac</a> (based on <a href="https://github.com/kaeyleo/jekyll-theme-H2O">Theme H2O</a>)  <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>  <script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1280712061'%3E%3C/span%3E%3Cscript src='https://v1.cnzz.com/z_stat.php%3Fid%3D1280712061%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script> </section>
</footer>
<script src="//at.alicdn.com/t/font_3046306_4quk6r21fv8.js"></script>

<script src="/assets/js/social-share.min.js"></script>
<script>
    socialShare('.social-share', {
        sites: ['wechat','weibo','douban','twitter'],
        wechatQrcodeTitle: "分享到微信朋友圈",
        wechatQrcodeHelper: '<p>扫码后点击右上角</p><p>将本文分享至朋友圈</p>'
    });
</script>
<script>
/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
/*写入自己的disqus信息*/
s.src = '';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
<script>
    // 给图片添加链接
    $(document).ready(function() {
        $("p img").each(function() {
            var strA = "<a data-fancybox='gallery' ref='gallery1' href='" + this.src + "'></a>";
            $(this).wrapAll(strA);
        });

        $('[data-fancybox="gallery"]').fancybox();
    });
</script>
<script src="/assets/js/prism.js"></script>
<script src="/assets/js/index.min.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script> 
    MathJax = {
      tex: {
        inlineMath: [['$', '$']],
        processEscapes: true
      }
    };
</script>
</body>
</html>
