<p>  WordPress 使用的用户默认头像是 Gravatar Fixed 头像，由于种种原因，经常在国内载入出错。一般的解决办法有好几种，主要的是 Gravatar Fixed 插件和修改 wp-include 中文件代码。</p>

<h2 id="安装-gravatar-fixed-插件">安装 Gravatar Fixed 插件</h2>

<p>  在管理后台搜索该插件，排在第一的应该是 <code class="language-plaintext highlighter-rouge">FV Gravatar Cache</code> 插件，然而这个插件需要使用到国外 google 的一些东西，所以载入也基本上是没什么戏。还是用第二种方法，虽然不能一劳永逸，但是不升级 wordpress 时还是蛮管用的。</p>

<h2 id="修改配置文件">修改配置文件</h2>

<p>修改 wp-include 目录下的 <code class="language-plaintext highlighter-rouge">link-template.php</code> 文件（大约在3604行）</p>

<ol>
  <li>使用 vi 工具编辑该文件，按 esc 键，直接输入 <code class="language-plaintext highlighter-rouge">3604gg</code>（无回显），代码就会自动跳转到指定的 3604 行。</li>
  <li>按照下面修改：</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$url</span> <span class="o">=</span> sprintf<span class="o">(</span>‘http://%d.gravatar.com/avatar/%s’, <span class="nv">$gravatar_server</span>, <span class="nv">$email_hash</span> <span class="o">)</span><span class="p">;</span>
修改为
<span class="nv">$url</span> <span class="o">=</span> sprintf<span class="o">(</span>‘http://cn.gravatar.com/avatar/%s’, <span class="nv">$email_hash</span> <span class="o">)</span><span class="p">;</span>
</code></pre></div></div>
